{%  load static %}
<!DOCTYPE html>
<html lang="en">
  
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="{{setting_obj.favicon}}">
    <title>Test Started</title>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/perfect-scrollbar/css/perfect-scrollbar.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/material-design-icons/css/material-design-iconic-font.min.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/jquery.vectormap/jquery-jvectormap-1.2.2.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/jqvmap/jqvmap.min.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/datetimepicker/css/bootstrap-datetimepicker.min.css" %}"/>

    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/datetimepicker/css/bootstrap-datetimepicker.min.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/jquery.gritter/css/jquery.gritter.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/mprogress/css/mprogress.min.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/sweetalert2/sweetalert2.min.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/css/app.css" %}"/>
   
    <link rel="stylesheet" href="{% static "student/assets/timer/TimeCircles.css" %}" type="text/css"/>
    
    
    <style>

      
    .image-checkbox
    {
        cursor: pointer;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
        border: 2px solid transparent;
        outline: 0;
    }

        .image-checkbox input[type="checkbox"]
        {
            display: none;
        }

    .image-checkbox-checked
    {
        border-color: #2828ff;
        border-radius: 5px; 

    }
</style>


  </head>
  <body >
  
    <div class="be-wrapper be-offcanvas-menu be-fixed-sidebar   {% if email == False %} be-color-header   {% endif %}">
    
      {% include 'student_html/navbar.html' %}
      
      <div class="be-left-sidebar">
        <div class="left-sidebar-wrapper"><a class="left-sidebar-toggle" href="/admin-panel/">Dashboard</a>
          <div class="left-sidebar-spacer">
            <div class="left-sidebar-scroll">
              <div class="left-sidebar-content">
                <ul class="sidebar-elements">
                  <li class="divider">Menu</li>
                  <li class="active"><a href="/student/"><i class="icon mdi mdi-home"></i><span>Dashboard</span></a>
                  </li>
                   <li><a href="/student/test/browse"><i class="icon mdi mdi-search"></i><span>Browse Test</span></a>
                  </li>
                
                  <li><a href="/student/learning/"><i class="icon mdi mdi-library"></i><span>Learning</span></a>
                  </li>
                 
                  <li class="parent"><a href="#"><i class="icon mdi mdi-layers"></i><span>My Activity</span></a>
                    <ul class="sub-menu">
                      <li><a href="/student/report/exam">Exam Report</a>
                      </li>
                      <li><a href="/student/report/test">Test Report</a>
                      </li>
                      
                      
                    </ul>
                  </li>
                  <li class="parent"><a href="#"><i class="icon mdi mdi-account"></i><span>My Account</span></a>
                    <ul class="sub-menu">
                      <li><a href="/student/account/">Personal Info </a>
                      </li>
                      <li><a href="/student/account/academy">Acadamic</a>
                      </li>
                      
                      
                    </ul>
                  </li>
                   <li><a href="/student/announcement/"><i class="icon mdi mdi-notifications-add"></i><span>Announcements</a></span></li>
                </ul>
              </div>
              
            </div>
            
          </div>
        
        </div>
      </div>
      <div class="be-content">

            <div class="page-head">
                    {% if messages and AllowTest == True %}

              
               {% for message in messages %}
            
           
            <div class="alert alert-{{message.tags}} alert-dismissible" role="alert">
              <button class="close" type="button" data-dismiss="alert" aria-label="Close"><span class="mdi mdi-close" aria-hidden="true"></span></button>
              <div class="icon"><span class="mdi mdi-alert-triangle"></span></div>
              <div class="message"> {{message}}</div>
            </div>

               {% endfor %}
            

                   
             {% endif %}
             {% if AllowTest == True  %}
                <div class="row">
                    <div class="col-md-5">
                    <h2 class="page-head-title">{{test_details.test_name}}</h2>
                    <nav aria-label="breadcrumb" role="navigation">
                      <ol class="breadcrumb page-head-nav">
                        {% if test_details.steam is not Null  %}
                        <li class="breadcrumb-item"><a href="#">{{test_details.steam}}</a></li>
                        {% endif %}
                        {% if test_details.category_one is not Null  %}
                        <li class="breadcrumb-item"><a href="#">{{test_details.category_one}}</a></li>
                        {% endif %}
                        
                        {% if test_details.category_two is not Null  %}
                        <li class="breadcrumb-item"><a href="#">{{test_details.category_two}}</a></li>
                        {% endif %}

                      </ol>
                    </nav>
                    <small>
                    <strong>SESSION ID : </strong>{{sessionid | upper}} , 
                    <strong>RESUMEABLE : </strong>{% if resumeable == True %} YES {% else %} NO {% endif %}
                    </small>

                  </div>

                  <div class="col-md-2">
                    
                      </div>
                  
                  <div class="col-md-2">
                    <p>
                    
                      <h1  style="margin-top: 35px;"> <span data-toggle="counter" data-end="0" id="cr_q"> 0 </span> of <span data-toggle="counter" data-end="0" id="tot_q"> 0 </span></h1>
                    </p>
                    </div>
                  {% if test_data.istimer == True %}
                      
                  <div class="col-md-2 text-right">  <div id="CountDownTimer" class="text-right" data-timer="{{test_data.time_left}}" style="width: 500px; height: 100px;"></div>
                  </div>

                  {% endif %}

                </div>

                {% endif %}
                  </div>
                 

              <div class="main-content container-fluid">
                <div>
                  {% if AllowTest == False and Result == True %}
                  <div id="effect_run"  class="col-md-6 offset-md-3">
                      
                    <div class="text-center">
                            <div class="row">
                            <div class="col-md-6">
                                    <div class="widget widget-tile">
                                     <div class="data-info">
                                        <div class="desc">You Scored</div>
                                        <div class="value"><span class="number" data-toggle="counter" data-end="{{result_data.scored}}">{{result_data.scored}}</span> / <span class="number" >{{result_data.total_score}}</span>
                                        </div>
                                      </div>
                                    </div>
                                    
                        </div>

                        <div class="col-md-6">
                                <div class=" card-full-default widget widget-tile">
                                  <div class="data-info">
                                    <div class="desc">You Ranked</div>
                                    <div class="value"><span class="number" data-toggle="counter" data-end="{{result_data.class_rnk}}">{{result_data.class_rnk}}</span> <small><span class="number" data-toggle="counter" data-end="{{result_data.clg_rnk}}">{{result_data.clg_rnk}}</span> </small>
                                    </div>
                                  </div>
                                </div>
                                
                    </div>


                    </div>
                        <div class="card card-full-success">
                          <div style="color:white;"  class="card-body">
                                <div class="icon-container card-full-success">
                                        <div class="icon"><span class="mdi mdi-check-all"></span></div>
                                      </div>
                            <p class="lead" class=" mt-2" style="color: white;"> Test is Submited! </p>
                            <div class="col-md-8 offset-md-2">
                            <span class=" mt-2" style="font-size:15px;    color: white;">
                              Exam is Submitted on {{result_data.test_submited}} and<br> started {{result_data.test_started}} and You are {{result_data.ResultStatus}}.
                            </span>
                        </div>
                            <p style="padding:25px;" class="mt-2">
                            <a href="/student/test/exam/{{sessionid}}" class="btn btn-lg btn-light">View Report</a>
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                    {% endif %}

                    {% if AllowTest == False and Result == False %}
                  <div id="effect_run"  class="col-md-6 offset-md-3">
                      
                    <div class="text-center">
                            <div class="row">
                   


                    </div>
                        <div class="card card-full-{{msg.tags}}">
                          <div style="color:white;"  class="card-body">
                                <div class="icon-container card-full-{{msg.tags}}">
                                        <div class="icon"><span class="{{msg.icon}}"></span></div>
                                      </div>
                            <p class="lead" class=" mt-2" style="color: white;"> Error Occured</p>
                            <div class="col-md-8 offset-md-2">
                            <span class=" mt-2" style="font-size:15px;    color: white;">
                              {{msg.msg}}
                            </span>
                        </div>
                            <p style="padding:25px;" class="mt-2">
                            <button href="/student/test/exam/{{sessionid}}" class="btn btn-lg btn-light" disabled>View Report</button>
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                    {% endif %}


                  </div>

                {% if AllowTest == True %}
                
                <form method="POST">
                {% for key, ques in questions.items %}
                <div class="row">
                <div style="display:none;" id = "q{{key}}" class="col-md-8">
                  
                    {%csrf_token%}
                    <div class="card card-default card-contrast">
                        <div class="card-header">QUESTION
                        </div>
                        <div class="card-body card-body-contrast" style="font-size:20px;">
{{ques.question}}
<br><br>
{{ques.explanation}}


</div>
                        
                      </div>

                </div>

                <div style="display:none;" id = "o{{key}}" class="col-md-4">
                    <div class="card card-default card-contrast">
                        <div class="card-header">OPTIONS
                        </div>
                        <div class="card-body card-body-contrast" style="font-size:20px;">
                            <div class=" form-check mt-1">
                                  <div class="custom-control custom-checkbox">
                                    <input name="op[{{key}}][1]" class="custom-control-input" type="checkbox" id="check3{{key}}{{key}}">
                                    <label class="custom-control-label" for="check3{{key}}{{key}}">{{ques.o1}}</label>
                                  </div>

                                  <div class="custom-control custom-checkbox">
                                      <input name="op[{{key}}][2]" class="custom-control-input" type="checkbox"  id="check3{{key}}{{key}}{{key}}">
                                      <label class="custom-control-label" for="check3{{key}}{{key}}{{key}}">{{ques.o2}}</label>
                                    </div>
                                
                                    <div class="custom-control custom-checkbox">
                                        <input name="op[{{key}}][3]" class="custom-control-input" type="checkbox"  id="check3{{key}}{{key}}{{key}}{{key}}">
                                        <label class="custom-control-label" for="check3{{key}}{{key}}{{key}}{{key}}">{{ques.o3}}</label>
                                      </div>

                                      <div class="custom-control custom-checkbox">
                                          <input name="op[{{key}}][4]" class="custom-control-input" type="checkbox"  id="check3{{key}}{{key}}{{key}}{{key}}{{key}}">
                                          <label class="custom-control-label" for="check3{{key}}{{key}}{{key}}{{key}}{{key}}">{{ques.o4}}</label>
                                        </div>

                              </div>
                              <br>
                              <div class="text-right">
                                  

                                  

                                  {% if key != 0 %}
                                  <button type="button" onclick="displayQuestion('Prev', {{key}})" class="btn btn-space btn-info btn-lg ">Previous </button>
                                  {% endif %}

                                 
                                  {% ifequal  key question_count %}
                                  <button type="submit"  class="btn btn-space btn-success btn-lg ">Submit </button>
                                  {% else %}
                                  <button type="button" onclick="displayQuestion('Next', {{key}})" class="btn btn-space btn-success btn-lg ">Next </button>
                                  
                                  {% endifequal  %}

                                 
                                
                                </div>
                        </div>
                      </div>
                </div>

            </div>
            {% endfor %}
          </form>
              {% endif %}
              </div>     
               
                      </div>
           
          </div>
       
         

    <script src="{% static "student/assets/lib/jquery/jquery.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/perfect-scrollbar/js/perfect-scrollbar.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/bootstrap/dist/js/bootstrap.bundle.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/js/app.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/jquery.flot.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/jquery.flot.pie.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/jquery.flot.time.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/jquery.flot.resize.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/plugins/jquery.flot.orderBars.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/plugins/curvedLines.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/plugins/jquery.flot.tooltip.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery.sparkline/jquery.sparkline.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/countup/countUp.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-ui/jquery-ui.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jqvmap/jquery.vmap.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jqvmap/maps/jquery.vmap.world.js" %}" type="text/javascript"></script>
  
    <script src="{% static "student/assets/lib/jquery.niftymodals/js/jquery.niftymodals.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/datetimepicker/js/bootstrap-datetimepicker.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery.gritter/js/jquery.gritter.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/mprogress/js/mprogress.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/sweetalert2/sweetalert2.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/timer/TimeCircles.js" %}" type="text/javascript"></script>
    
  
    <script>

        var question = 0;
        var total = {{question_count}} + 1 ;
        
        $("#CountDownTimer").TimeCircles({ "count_past_zero":false, "animation": "ticks", time: { Days: { show: false }, Hours: { show: true } }});
      
        $(document).ready(function(){
            //-initialize the javascript
            App.init();
  
        });

        function count_update(){
          $('[data-toggle="counter"]').each(function(e, t) {
            var i = $(this),
                o = "",
                n = "",
                a = 0,
                r = 0,
                l = 0,
                s = 2.5;
            i.data("prefix") && (o = i.data("prefix")), i.data("suffix") && (n = i.data("suffix")), i.data("start") && (a = i.data("start")), i.data("end") && (r = i.data("end")), i.data("decimals") && (l = i.data("decimals")), i.data("duration") && (s = i.data("duration")), new CountUp(i.get(0), a, r, l, s, {
                suffix: n,
                prefix: o
            }).start()
         })
        }



        function displayQuestion(action ,key){
          checked_array = {}
          
          if(action == 'Next'){
            var ques = $('#q'+(key+1));
            var op = $('#o'+(key+1));
            
            question++;
            $('#cr_q').data('end', question);
            count_update();

            $('#q'+key).css('display', 'none');
            $('#o'+key).css('display', 'none');
           
            ques.css('display', 'block');
            op.css('display', 'block');

          }else{
            question--;
            $('#cr_q').data('end', question);
            count_update();
            var ques = $('#q'+(key-1));
            var op = $('#o'+(key-1));
            $('#q'+key).css('display', 'none');
            $('#o'+key).css('display', 'none');
            ques.css('display', 'block');
            op.css('display', 'block');
          }

          



        }

        displayQuestion('Next', -1);
        $('#cr_q').data('end', question);
        $('#tot_q').data('end', total);

        count_update();


        
       

        
    </script>       


    
  </body>
</html>
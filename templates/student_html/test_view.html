{%  load static %}
<!DOCTYPE html>
<html lang="en">
  
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="assets/img/logo-fav.png">
    <title>Beagle</title>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/perfect-scrollbar/css/perfect-scrollbar.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/material-design-icons/css/material-design-iconic-font.min.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/jquery.vectormap/jquery-jvectormap-1.2.2.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/jqvmap/jqvmap.min.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/datetimepicker/css/bootstrap-datetimepicker.min.css" %}"/>

    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/datetimepicker/css/bootstrap-datetimepicker.min.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/jquery.gritter/css/jquery.gritter.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/mprogress/css/mprogress.min.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/lib/sweetalert2/sweetalert2.min.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "student/assets/css/app.css" %}"/>
   
    <link rel="stylesheet" href="{% static "student/assets/timer/TimeCircles.css" %}" type="text/css"/>
    
    
    <style>

      
    .image-checkbox
    {
        cursor: pointer;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
        border: 2px solid transparent;
        outline: 0;
    }

        .image-checkbox input[type="checkbox"]
        {
            display: none;
        }

    .image-checkbox-checked
    {
        border-color: #2828ff;
        border-radius: 5px; 

    }
</style>


  </head>
  <body >
  
    <div class="be-wrapper be-offcanvas-menu be-fixed-sidebar   {% if email == False %} be-color-header   {% endif %}">
    
       <nav class="navbar navbar-expand fixed-top be-top-header">
        <div class="container-fluid">
                <div class="be-navbar-header"><a class="nav-link be-toggle-left-sidebar" href="#"><span class="icon mdi mdi-menu"></span></a><a class="navbar-brand" href="index-2.html"></a>
                </div>
         
          
         {% if email == False %}  <div class="page-title"><span style="font-size:13px;">Email verification is pending please verify your email address or resend verification <a href="#" onclick="send_email()" class="btn btn-warning btn-xs">email</a>.</span></div>
            {% endif %}
         
          <div class="be-right-navbar">
            <ul class="nav navbar-nav float-right be-user-nav">
              <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" role="button" aria-expanded="false"><img src="assets/img/avatar.png" alt="Avatar"><span class="user-name">Túpac Amaru</span></a>
                <div class="dropdown-menu" role="menu">     
                  <div class="user-info">
                    <div class="user-name">Túpac Amaru</div>
                    <div class="user-position online">Available</div>
                  </div><a class="dropdown-item" href="pages-profile.html"><span class="icon mdi mdi-face"></span>Account</a><a class="dropdown-item" href="#"><span class="icon mdi mdi-settings"></span>Settings</a><a class="dropdown-item" href="pages-login.html"><span class="icon mdi mdi-power"></span>Logout</a>
                </div>
              </li>
            </ul>
            <ul class="nav navbar-nav float-right be-icons-nav">
              <li class="nav-item dropdown"><a class="nav-link be-toggle-right-sidebar" href="#" role="button" aria-expanded="false"><span class="icon mdi mdi-settings"></span></a></li>
              <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" role="button" aria-expanded="false"><span class="icon mdi mdi-notifications"></span><span class="indicator"></span></a>
                <ul class="dropdown-menu be-notifications">
                  <li>
                    <div class="title">Notifications<span class="badge badge-pill">3</span></div>
                    <div class="list">
                      <div class="be-scroller-notifications">
                        <div class="content">
                          <ul>
                            <li class="notification notification-unread"><a href="#">
                                <div class="image"><img src="assets/img/avatar2.png" alt="Avatar"></div>
                                <div class="notification-info">
                                  <div class="text"><span class="user-name">Jessica Caruso</span> accepted your invitation to join the team.</div><span class="date">2 min ago</span>
                                </div></a></li>
                            <li class="notification"><a href="#">
                                <div class="image"><img src="assets/img/avatar3.png" alt="Avatar"></div>
                                <div class="notification-info">
                                  <div class="text"><span class="user-name">Joel King</span> is now following you</div><span class="date">2 days ago</span>
                                </div></a></li>
                            <li class="notification"><a href="#">
                                <div class="image"><img src="assets/img/avatar4.png" alt="Avatar"></div>
                                <div class="notification-info">
                                  <div class="text"><span class="user-name">John Doe</span> is watching your main repository</div><span class="date">2 days ago</span>
                                </div></a></li>
                            <li class="notification"><a href="#">
                                <div class="image"><img src="assets/img/avatar5.png" alt="Avatar"></div>
                                <div class="notification-info"><span class="text"><span class="user-name">Emily Carter</span> is now following you</span><span class="date">5 days ago</span></div></a></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class="footer"> <a href="#">View all notifications</a></div>
                  </li>
                </ul>
              </li>
              <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" role="button" aria-expanded="false"><span class="icon mdi mdi-apps"></span></a>
                <ul class="dropdown-menu be-connections">
                  <li>
                    <div class="list">
                      <div class="content">
                        <div class="row">
                          <div class="col"><a class="connection-item" href="#"><img src="assets/img/github.png" alt="Github"><span>GitHub</span></a></div>
                          <div class="col"><a class="connection-item" href="#"><img src="assets/img/bitbucket.png" alt="Bitbucket"><span>Bitbucket</span></a></div>
                          <div class="col"><a class="connection-item" href="#"><img src="assets/img/slack.png" alt="Slack"><span>Slack</span></a></div>
                        </div>
                        <div class="row">
                          <div class="col"><a class="connection-item" href="#"><img src="assets/img/dribbble.png" alt="Dribbble"><span>Dribbble</span></a></div>
                          <div class="col"><a class="connection-item" href="#"><img src="assets/img/mail_chimp.png" alt="Mail Chimp"><span>Mail Chimp</span></a></div>
                          <div class="col"><a class="connection-item" href="#"><img src="assets/img/dropbox.png" alt="Dropbox"><span>Dropbox</span></a></div>
                        </div>
                      </div>
                    </div>
                    <div class="footer"> <a href="#">More</a></div>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <div class="be-left-sidebar">
        <div class="left-sidebar-wrapper"><a class="left-sidebar-toggle" href="#">Dashboard</a>
          <div class="left-sidebar-spacer">
            <div class="left-sidebar-scroll">
              <div class="left-sidebar-content">
                <ul class="sidebar-elements">
                  <li class="divider">Menu</li>
                  <li class="active"><a href="index-2.html"><i class="icon mdi mdi-home"></i><span>Dashboard</span></a>
                  </li>
                   <li><a href="index-2.html"><i class="icon mdi mdi-search"></i><span>Browse Test</span></a>
                  </li>
                  <li class="parent"><a href="#"><i class="icon mdi mdi-code"></i><span>Practice</span></a>
                    <ul class="sub-menu">
                      <li ><a href="ui-alerts.html">Mock Test</a>
                      </li>
                      <li><a href="ui-alerts.html">Practice Test</a>
                      </li>
                     
                     
                    </ul>
                  </li>
                  <li><a href="index-2.html"><i class="icon mdi mdi-library"></i><span>Learning</span></a>
                  </li>
                 
                  <li class="parent"><a href="#"><i class="icon mdi mdi-layers"></i><span>My Activity</span></a>
                    <ul class="sub-menu">
                      <li><a href="pages-blank.html">Mock Test</a>
                      </li>
                      <li><a href="pages-blank-header.html">Practice Test</a>
                      </li>
                      
                      
                    </ul>
                  </li>
                  <li class="parent"><a href="#"><i class="icon mdi mdi-account"></i><span>My Account</span></a>
                    <ul class="sub-menu">
                      <li><a href="form-elements.html">Personal Info</a>
                      </li>
                      <li><a href="form-validation.html">Acadamic Info</a>
                      </li>
                      
                      
                    </ul>
                  </li>
                   <li><a href="#"><i class="icon mdi mdi-notifications-add"></i><span>Notifications </span></li>
                </ul>
              </div>
              
            </div>
            
          </div>
          <div class="progress-widget primary">
            <div class="progress-data"><span class="progress-value"><span class="mdi mdi-android"></span> </span><span class="name">Download App</span></div>
            
          </div>
        </div>
      </div>
      <div class="be-content">

                  <div class="page-head">

                <div class="row">
                    <div class="col-md-6">
                    <h2 class="page-head-title">{{test_details.test_name}}</h2>
                    <nav aria-label="breadcrumb" role="navigation">
                      <ol class="breadcrumb page-head-nav">
                        {% if test_details.steam is not Null  %}
                        <li class="breadcrumb-item"><a href="#">{{test_details.steam}}</a></li>
                        {% endif %}
                        {% if test_details.category_one is not Null  %}
                        <li class="breadcrumb-item"><a href="#">{{test_details.category_one}}</a></li>
                        {% endif %}
                        
                        {% if test_details.category_two is not Null  %}
                        <li class="breadcrumb-item"><a href="#">{{test_details.category_two}}</a></li>
                        {% endif %}

                      </ol>
                    </nav>
                    <small>
                    <strong>SESSION ID : </strong>{{sessionid | upper}} , 
                    <strong>RESUMEABLE : </strong>{% if resumeable == True %} YES {% else %} NO {% endif %}
                    </small>

                  </div>
                  {% if test_data.istimer == True %}
                      
                  <div class="offset-md-2 col-md-2 text-right">  <div id="CountDownTimer" class="text-right" data-timer="{{test_data.time_left}}" style="width: 500px; height: 100px;"></div>
                  </div>

                  {% endif %}

                </div>
                  </div>
                
              <div class="main-content container-fluid">
                  <form method="post">

                    {% csrf_token %}
                  <div id="quest" class="row">
                 
                       
                      {% if testView == True %}
                      {%  for key, val in test_data.questions_count.items %}
                      <div style="display:none;" data-li-q-v = "{{key}}" class="col-md-6">
                     
                          <div class="card card-default card-contrast">
                              <div class="card-header">QUESTION
                              </div>
                              <div class="card-body card-body-contrast" style="font-size:20px;">

                              {{val.question}}
                              </div>
                              
                            </div>

                      </div>
                 
                      <div style="display:none;" data-li-q-a = "{{key}}" class="col-md-5">
                          <div class="card card-default card-contrast">
                              <div class="card-header">OPTIONS
                              </div>
                              <div class="card-body card-body-contrast" style="font-size:20px;">
                                  <div class=" form-check mt-1">
                                      <label class="custom-control custom-radio">
                                        <input class="custom-control-input" name="ans[{{val.id}}]" value="1" type="radio" ><span class="custom-control-label">{{val.optionOne}}</span>
                                      </label>
                                      <label class="custom-control custom-radio">
                                        <input class="custom-control-input" type="radio" value="2" name="ans[{{val.id}}]"><span class="custom-control-label">{{val.optionTwo}}</span>
                                      </label>
                                      <label class="custom-control custom-radio">
                                        <input class="custom-control-input" type="radio" value="3" name="ans[{{val.id}}]"><span class="custom-control-label">{{val.optionThree}}</span>
                                      </label>

                                      <label class="custom-control custom-radio">
                                          <input class="custom-control-input" type="radio" value="4" name="ans[{{val.id}}]"><span class="custom-control-label">{{val.optionFour}}</span>
                                        </label>


                                    </div>
                                    <br>
                                    <div class="text-right">
                                        {% if key != 1 %}
                                        <button type="button" onclick="view_quest('prev', {{key}})" class="btn btn-space btn-secondary btn-lg ">Previous </button> 
                                        {% endif %}

                                        {% if key == test_data.questions_counts %}
                                        <button type="submit" class="btn btn-space btn-info btn-lg " name="submit_test" >Submit </button>
                                        {% endif %}

                                        {% if key != test_data.questions_counts %}
                                        <button type="button" onclick="view_quest('next', {{key}})" class="btn btn-space btn-info btn-lg ">Next </button>
                                        {% endif %}

                                       
                                      
                                      </div>
                              </div>
                            </div>
                      </div>
                      {% endfor %}
                      <div class="col-md-1">
                          <nav style=" margin: -23px;">
                              <ul style="list-style-type: none;"  class="pagination-rounded">
                                  <li style="padding-bottom:5px;display:none;" class="page-item"><a class="page-link" href="#">{{cnt}}</a></li>
                            
                              {%  for key, val in test_data.questions_count.items %}
                                <li data-li-q-s="{{key}}" style="padding-bottom:5px;" class="page-item"><a class="page-link " href="#">{{key}}</a></li>
                              {%  endfor %}
                              </ul>
                            </nav>

                      </div>
                    </div>
                      {% endif %}
                    </form>
                  </div>     
                <div class="row">
                 
                       
                            {% if msg_d == True %}
                          

                            <div id="effect_run"  class="col-md-6 offset-md-3">
                              
                                    <div class="text-center">
                                         
                                        <div class="card card-full-{{st}}">
                                          <div  class="card-body">
                                                <div class="icon-container card-full-{{st}}">
                                                        <div class="icon"><span class="mdi mdi-{{icon}}"></span></div>
                                                      </div>
                                            <p class="lead"> {{st_title}} </p>
                                            <div class="col-md-8 offset-md-2">
                                            <span class=" mt-2" style="font-size:15px;width:50px;">{{msg_msg}}</span>
                                          </div>
                                            <p style="padding:25px;" class="mt-2">
                                            <a href="/student/test/browse" class="btn btn-lg btn-light">Browse Test</a>
                                            <a href="/student/test/details/{{TestID}}" class="btn btn-lg btn-light">View Current Test</a>
                                            
                                            </p>
                                          </div>
                                        </div>
                                      </div>
                                    </div>


                             {% endif %}
                         

                          {% if complete == True %}
                          <div id="effect_run"  class="col-md-6 offset-md-3">
                              
                            <div class="text-center">
                                    <div class="row">
                                    <div class="col-md-6">
                                            <div class="widget widget-tile">
                                             <div class="data-info">
                                                <div class="desc">You Scored</div>
                                                <div class="value"><span class="number" data-toggle="counter" data-end="113">113</span> / <span class="number" >113</span>
                                                </div>
                                              </div>
                                            </div>
                                            
                                </div>

                                <div class="col-md-6">
                                        <div class=" card-full-default widget widget-tile">
                                          <div class="data-info">
                                            <div class="desc">You Ranked</div>
                                            <div class="value"><span class="number" data-toggle="counter" data-end="113">24</span> <small><span class="number" data-toggle="counter" data-end="113">24</span> </small>
                                            </div>
                                          </div>
                                        </div>
                                        
                            </div>


                            </div>
                                <div class="card card-full-success">
                                  <div  class="card-body">
                                        <div class="icon-container card-full-success">
                                                <div class="icon"><span class="mdi mdi-check-all"></span></div>
                                              </div>
                                    <p class="lead"> Test is Submited! </p>
                                    <div class="col-md-8 offset-md-2">
                                    <span class=" mt-2" style="font-size:15px;">You scored 10 pts out of 100 pts and 3 answers were correct and rest incorrect.</span>
                                </div>
                                    <p style="padding:25px;" class="mt-2">
                                    <a href="/student/test/report/{{sessionid}}" class="btn btn-lg btn-light">View Report</a>
                                    </p>
                                  </div>
                                </div>
                              </div>
                            </div>
                            {% endif %}
                        </div>
                      </div>
           
          </div>
       
         

    <script src="{% static "student/assets/lib/jquery/jquery.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/perfect-scrollbar/js/perfect-scrollbar.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/bootstrap/dist/js/bootstrap.bundle.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/js/app.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/jquery.flot.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/jquery.flot.pie.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/jquery.flot.time.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/jquery.flot.resize.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/plugins/jquery.flot.orderBars.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/plugins/curvedLines.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-flot/plugins/jquery.flot.tooltip.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery.sparkline/jquery.sparkline.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/countup/countUp.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery-ui/jquery-ui.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jqvmap/jquery.vmap.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jqvmap/maps/jquery.vmap.world.js" %}" type="text/javascript"></script>
  
    <script src="{% static "student/assets/lib/jquery.niftymodals/js/jquery.niftymodals.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/datetimepicker/js/bootstrap-datetimepicker.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/jquery.gritter/js/jquery.gritter.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/mprogress/js/mprogress.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/lib/sweetalert2/sweetalert2.min.js" %}" type="text/javascript"></script>
    <script src="{% static "student/assets/timer/TimeCircles.js" %}" type="text/javascript"></script>
    
    <script type="text/javascript">


      $.fn.niftyModal('setDefaults',{
      	overlaySelector: '.modal-overlay',
      	contentSelector: '.modal-content',
      	closeSelector: '.modal-close',
      	classAddAfterOpen: 'modal-show'
      });
    jQuery(function ($) {
        // init the state from the input
        $(".image-checkbox").each(function () {
            if ($(this).find('input[type="checkbox"]').first().attr("checked")) {
                $(this).addClass('image-checkbox-checked');
            }
            else {
                $(this).removeClass('image-checkbox-checked');
            }
        });

        // sync the state to the input
        $(".image-checkbox").on("click", function (e) {
            if ($(this).hasClass('image-checkbox-checked')) {
                $(this).removeClass('image-checkbox-checked');
                $(this).find('input[type="checkbox"]').first().removeAttr("checked");
            }
            else {
                $(this).addClass('image-checkbox-checked');
                $(this).find('input[type="checkbox"]').first().attr("checked", "checked");
            }

            e.preventDefault();
        });
    });
    </script>


    <script type="text/javascript">

      $('#effect_run').effect("bounce");
      $("#swal-icon").click(function(){
        
         
        Swal.fire({
        text:"I have read all the Test Rule and Process to Start Test.",
        type:"question",
        confirmButtonText:"Proceed",
        
        showCloseButton:!0,
        showCancelButton:!0,
        customClass:"content-text-center modal-full-color modal-full-color-primary"}).then(result => {
          console.log(result.value)
          if(result.value == true){
            Swal.fire({title:"<span>Starting test session!</span>",
            timer:2e3,
            customClass:"content-actions-center",
            buttonsStyling:!0,onOpen:function(){swal.showLoading(),e=setInterval(function(){swal.getContent().querySelector("strong").textContent=swal.getTimerLeft()},100)},onClose:function(){clearInterval(e)}}).then(function(e){e.dismiss===swal.DismissReason.timer&&console.log("I was closed by the timer")})
            window.location.href = "/student/test/start/{{test_details.id}}"; 
          }
        
        });
      
      });

      $(document).ready(function(){
      	//-initialize the javascript
      	App.init();
      	App.dashboard();
        $(".datetimepicker").datetimepicker();


       

      });
     {%  if testView == False %}
    
      window.onbeforeunload = function (e) {
        // Cancel the event
        e.preventDefault();
    
        // Chrome requires returnValue to be set
        e.returnValue = 'Really want to quit the game?';
    };
    
    //Prevent Ctrl+S (and Ctrl+W for old browsers and Edge)
    document.addEventListener('contextmenu', event => {
      event.preventDefault();
      $.gritter.add({title:"Warning",text:"Right-mouse click is not allowed! It may lead you to dexcolfied you from this test and -100 will be substraced from your score.",class_name:"color warning"})
      
    
    
    });


    document.onkeydown = function (e) {
        e = e || window.event;//Get event
        //if (!e.ctrlKey) return;
    
        var code = e.which || e.keyCode;//Get key code
        console.log(code);
        var pressedKey = String.fromCharCode(event.keyCode).toLowerCase();

        if (e.ctrlKey) {
             // disable key press porcessing
             event.returnValue = false;
             $.gritter.add({title:"Warning",text:"Ctrl is disabled.",class_name:"color warning"})
      
        }


        switch (code) {
            case 123://Block Ctrl+S
               $.gritter.add({title:"Warning",text:"Fn click is disabled! If It continues may lead you to dexcolfied you from this test and -100 will be substraced from your score.",class_name:"color warning"})
      
                e.preventDefault();
                e.stopPropagation();

            case 87:
                e.preventDefault();
                e.stopPropagation();
                break;
        }
    };
    {%  endif %}
    
    </script>

    <script>
        $("#CountDownTimer").TimeCircles({ "count_past_zero":false, "animation": "ticks", time: { Days: { show: false }, Hours: { show: true } }});
      
        function view_quest(op, idd){
          if(op == 'next'){

            var id = idd + 1;
          }
          if(op == 'prev'){

            var id = idd - 1;
          }
          var count = {{test_data.questions_counts}} + 1

          for(i=1; i<count;i++){
          
          if(id === i){
            console.log(i, "<=");
            let q =  $('[data-li-q-v="'+i+'"]');
            let o = $('[data-li-q-a="'+i+'"]');
            let l = $('[data-li-q-s="'+i+'"]');
            q.css('display', 'block');
            o.css('display', 'block');
            l.addClass('active');

          }

          if(id != i){

            let q =  $('[data-li-q-v="'+i+'"]');
            let o = $('[data-li-q-a="'+i+'"]');
            let l = $('[data-li-q-s="'+i+'"]');
            q.css('display', 'none');
            o.css('display', 'none');
            l.removeClass('active');
          }
          }
          
          //console.log(q);

        }

        view_quest('next', 0);
  
    </script>       


    
  </body>
</html>